<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--Rendered using the Haskell Html Library v0.2-->
<HTML
><HEAD
><META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=UTF-8"
><TITLE
>Env</TITLE
><LINK HREF="haddock.css" REL="stylesheet" TYPE="text/css"
><SCRIPT SRC="haddock-util.js" TYPE="text/javascript"
></SCRIPT
><SCRIPT TYPE="text/javascript"
>window.onload = function () {setSynopsis("mini_Env.html")};</SCRIPT
></HEAD
><BODY
><TABLE CLASS="vanilla" CELLSPACING="0" CELLPADDING="0"
><TR
><TD CLASS="topbar"
><TABLE CLASS="vanilla" CELLSPACING="0" CELLPADDING="0"
><TR
><TD
><IMG SRC="haskell_icon.gif" WIDTH="16" HEIGHT="16" ALT=" "
></TD
><TD CLASS="title"
>HMTC</TD
><TD CLASS="topbut"
><A HREF="index.html"
>Contents</A
></TD
><TD CLASS="topbut"
><A HREF="doc-index.html"
>Index</A
></TD
></TR
></TABLE
></TD
></TR
><TR
><TD CLASS="modulebar"
><TABLE CLASS="vanilla" CELLSPACING="0" CELLPADDING="0"
><TR
><TD
><FONT SIZE="6"
>Env</FONT
></TD
></TR
></TABLE
></TD
></TR
><TR
><TD CLASS="s15"
></TD
></TR
><TR
><TD CLASS="section1"
>Description</TD
></TR
><TR
><TD CLASS="doc"
>Environment with operations. The module provides an abstract datatype
 for representing environments (symbol tables), along with operations
 for creating and extending environments, and looking up symbols.
 An environment can contain two kinds of symbols:  term-level symbols
 denoting entities like variables, constants, and procedures, and
 type-level symbols, denoting types.
</TD
></TR
><TR
><TD CLASS="s15"
></TD
></TR
><TR
><TD CLASS="section1"
>Synopsis</TD
></TR
><TR
><TD CLASS="s15"
></TD
></TR
><TR
><TD CLASS="body"
><TABLE CLASS="vanilla" CELLSPACING="0" CELLPADDING="0"
><TR
><TD CLASS="decl"
><SPAN CLASS="keyword"
>data</SPAN
>  <A HREF="#t%3AEnv"
>Env</A
> </TD
></TR
><TR
><TD CLASS="s8"
></TD
></TR
><TR
><TD CLASS="decl"
><A HREF="#v%3AmkTopLvlEnv"
>mkTopLvlEnv</A
> :: [(<A HREF="Name.html#t%3AName"
>Name</A
>, <A HREF="Type.html#t%3AType"
>Type</A
>)] -&gt; [(<A HREF="Name.html#t%3AName"
>Name</A
>, <A HREF="Type.html#t%3AType"
>Type</A
>)] -&gt; <A HREF="Env.html#t%3AEnv"
>Env</A
></TD
></TR
><TR
><TD CLASS="s8"
></TD
></TR
><TR
><TD CLASS="decl"
><A HREF="#v%3AopenScope"
>openScope</A
> :: <A HREF="Env.html#t%3AEnv"
>Env</A
> -&gt; <A HREF="Env.html#t%3AEnv"
>Env</A
></TD
></TR
><TR
><TD CLASS="s8"
></TD
></TR
><TR
><TD CLASS="decl"
><A HREF="#v%3AenterTermSym"
>enterTermSym</A
> :: <A HREF="Name.html#t%3AName"
>Name</A
> -&gt; <A HREF="Type.html#t%3AType"
>Type</A
> -&gt; <A HREF="SrcPos.html#t%3ASrcPos"
>SrcPos</A
> -&gt; <A HREF="Env.html#t%3AEnv"
>Env</A
> -&gt; (Bool, <A HREF="Env.html#t%3AEnv"
>Env</A
>, <A HREF="Symbol.html#t%3ATermSym"
>TermSym</A
>)</TD
></TR
><TR
><TD CLASS="s8"
></TD
></TR
><TR
><TD CLASS="decl"
><A HREF="#v%3AlookupTypeSym"
>lookupTypeSym</A
> :: <A HREF="Name.html#t%3AName"
>Name</A
> -&gt; <A HREF="Env.html#t%3AEnv"
>Env</A
> -&gt; (Bool, <A HREF="Symbol.html#t%3ATypeSym"
>TypeSym</A
>)</TD
></TR
><TR
><TD CLASS="s8"
></TD
></TR
><TR
><TD CLASS="decl"
><A HREF="#v%3AlookupTermSym"
>lookupTermSym</A
> :: <A HREF="Name.html#t%3AName"
>Name</A
> -&gt; <A HREF="Env.html#t%3AEnv"
>Env</A
> -&gt; (Bool, <A HREF="Symbol.html#t%3ATermSym"
>TermSym</A
>)</TD
></TR
></TABLE
></TD
></TR
><TR
><TD CLASS="s15"
></TD
></TR
><TR
><TD CLASS="section1"
>Documentation</TD
></TR
><TR
><TD CLASS="s15"
></TD
></TR
><TR
><TD CLASS="decl"
><SPAN CLASS="keyword"
>data</SPAN
>  <A NAME="t:Env"
><A NAME="t%3AEnv"
></A
></A
><B
>Env</B
>  </TD
></TR
><TR
><TD CLASS="body"
><TABLE CLASS="vanilla" CELLSPACING="0" CELLPADDING="0"
><TR
><TD CLASS="ndoc"
>Environment (symbol table). Abstract.
</TD
></TR
></TABLE
></TD
></TR
><TR
><TD CLASS="s15"
></TD
></TR
><TR
><TD CLASS="decl"
><A NAME="v:mkTopLvlEnv"
><A NAME="v%3AmkTopLvlEnv"
></A
></A
><B
>mkTopLvlEnv</B
> :: [(<A HREF="Name.html#t%3AName"
>Name</A
>, <A HREF="Type.html#t%3AType"
>Type</A
>)] -&gt; [(<A HREF="Name.html#t%3AName"
>Name</A
>, <A HREF="Type.html#t%3AType"
>Type</A
>)] -&gt; <A HREF="Env.html#t%3AEnv"
>Env</A
></TD
></TR
><TR
><TD CLASS="doc"
><P
>Creates an initial, top-level, environment. Arguments:
</P
><OL
><LI
> List of name and type pairs for the type-level part of the
 top-level environment; i.e. a <EM
>definition</EM
> for each symbol.
</LI
><LI
> List of name and type pairs for the term-level part of the
 top-levelenvironment; i.e., a <EM
>declaration</EM
> for each symbol.
</LI
></OL
><P
>Returns: A top-level environment.
</P
></TD
></TR
><TR
><TD CLASS="s15"
></TD
></TR
><TR
><TD CLASS="decl"
><A NAME="v:openScope"
><A NAME="v%3AopenScope"
></A
></A
><B
>openScope</B
> :: <A HREF="Env.html#t%3AEnv"
>Env</A
> -&gt; <A HREF="Env.html#t%3AEnv"
>Env</A
></TD
></TR
><TR
><TD CLASS="doc"
>Opens a new scope level.
</TD
></TR
><TR
><TD CLASS="s15"
></TD
></TR
><TR
><TD CLASS="decl"
><A NAME="v:enterTermSym"
><A NAME="v%3AenterTermSym"
></A
></A
><B
>enterTermSym</B
> :: <A HREF="Name.html#t%3AName"
>Name</A
> -&gt; <A HREF="Type.html#t%3AType"
>Type</A
> -&gt; <A HREF="SrcPos.html#t%3ASrcPos"
>SrcPos</A
> -&gt; <A HREF="Env.html#t%3AEnv"
>Env</A
> -&gt; (Bool, <A HREF="Env.html#t%3AEnv"
>Env</A
>, <A HREF="Symbol.html#t%3ATermSym"
>TermSym</A
>)</TD
></TR
><TR
><TD CLASS="doc"
><P
>Enters a term-level symbol into an environment.
 Enforces that symbols are uniquely defined at each scope level.
 Arguments:
</P
><OL
><LI
> Name of symbol to be entered.
</LI
><LI
> Type of symbol to be entered.
</LI
><LI
> Source position of the declaration or definition of symbol to be
     entered.
</LI
><LI
> The environment to extend.
</LI
></OL
><P
>Returns:
</P
><OL
><LI
> Flag indicating redeclaration error.
</LI
><LI
> Extended environment.
</LI
><LI
> Copy of the new symbol.
</LI
></OL
></TD
></TR
><TR
><TD CLASS="s15"
></TD
></TR
><TR
><TD CLASS="decl"
><A NAME="v:lookupTypeSym"
><A NAME="v%3AlookupTypeSym"
></A
></A
><B
>lookupTypeSym</B
> :: <A HREF="Name.html#t%3AName"
>Name</A
> -&gt; <A HREF="Env.html#t%3AEnv"
>Env</A
> -&gt; (Bool, <A HREF="Symbol.html#t%3ATypeSym"
>TypeSym</A
>)</TD
></TR
><TR
><TD CLASS="doc"
><P
>Looks up a type-level symbol.
  Arguments:
</P
><OL
><LI
> Name of symbol to lookup.
</LI
><LI
> The environment in which to lookup the symbol.
</LI
></OL
><P
>Returns:
</P
><OL
><LI
> Flag indicating lookup failure.
</LI
><LI
> The symbol.
</LI
></OL
><P
>(Lookup failure is indicated by a boolean flag, as opposed to making the
 return type a Maybe type, since that is slightly more convenient when
 writing  the type checker.)
</P
></TD
></TR
><TR
><TD CLASS="s15"
></TD
></TR
><TR
><TD CLASS="decl"
><A NAME="v:lookupTermSym"
><A NAME="v%3AlookupTermSym"
></A
></A
><B
>lookupTermSym</B
> :: <A HREF="Name.html#t%3AName"
>Name</A
> -&gt; <A HREF="Env.html#t%3AEnv"
>Env</A
> -&gt; (Bool, <A HREF="Symbol.html#t%3ATermSym"
>TermSym</A
>)</TD
></TR
><TR
><TD CLASS="doc"
><P
>Looks up a term-level symbol.
 Later declarations (higher scope levels) shadow earlier ones.
 Arguments:
</P
><OL
><LI
> Name of symbol to lookup.
</LI
><LI
> The environment in which to lookup the symbol.
</LI
></OL
><P
>Returns:
</P
><OL
><LI
> Flag indicating lookup failure.
</LI
><LI
> The symbol.
</LI
></OL
></TD
></TR
><TR
><TD CLASS="s15"
></TD
></TR
><TR
><TD CLASS="botbar"
>Produced by <A HREF="http://www.haskell.org/haddock/"
>Haddock</A
> version 2.6.0</TD
></TR
></TABLE
></BODY
></HTML
>
